---
import { storyblokEditable } from '@storyblok/astro'
 const { blok }: any  = Astro.props
 const maxSize = `${blok.maxSize}px`
---
 <div {...storyblokEditable(blok)} class="container" >
 <iframe
    src     = {blok.url}
    title   = {blok.title}
    allow   = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    class   = "rounded-2xl border border-base-300 video lazy"
    allowfullscreen

  />
 </div>
 <script async src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@latest/dist/lazyload.min.js">
    // Set the options globally
    // to make LazyLoad self-initialize
    window.lazyLoadOptions = {
        // Your custom settings go here
    };

    // Listen to the initialization event
    // and get the instance of LazyLoad
    window.addEventListener("LazyLoad::Initialized", function (event) {
        window.lazyLoadInstance = event.detail.instance;
    }, false);
    </script>

<style define:vars={maxSize}>
    .container {
       position: relative;
       width: var(--maxSize);
       height: 0;
       padding-bottom: 56.25%;
   }
   .video {
       position: absolute;
       top: 0;
       left: 0;
       width: 100%;
       height: 100%;
   }
   </style>