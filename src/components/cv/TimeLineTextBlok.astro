---
const { title, company, text, location, category } = Astro.props;
import {stringToHexColor, contrastColor } from '@/scripts/colortools.ts';
const categoryBackgroundColor = stringToHexColor(category);
const categoryTextColor = contrastColor(categoryBackgroundColor);
const locationBackgroundColor = stringToHexColor(location);
const locationTextColor = contrastColor(locationBackgroundColor);
---

<figure class="
  w-full
  p-5
  m-5
  relative
  rounded-2xl
  hover:shadow-[0px_0px_15px_0px] hover:scale-[105%]
  backdrop-blur-lg
  shadow-lg
  border
  border-base-300
  hover:shadow-[#0f0e0e]
  transition
  ease-in-out"
>
{company ? (
  <>
    <h3 class='font-semibold underline'>{company}</h3>
    <div class='font-light'>{title}</div>
  </>
) : (
  <>
    <h3 class='font-semibold underline'>{title}</h3>
  </>
)}
{text ? <p class=''>{text}</p> : null}
<p class='mt-3 mb-5 text-justify'>
</p>
{category && <div class='absolute bottom-0 left-0 p-2 bg-gray-900
rounded-2xl text-xs rounded-tl-none rounded-br-none' style={`background-color: ${categoryBackgroundColor}; color: ${categoryTextColor};`}>{category}</div>}
{location && <div class='absolute bottom-0 right-0 p-2 bg-gray-900
rounded-2xl text-xs rounded-tr-none rounded-bl-none' >{location}</div>}
</figure>